<!--mat-tab-group class="">
    <mat-tab label="Basic">
        <div class="demo-tab-content">
            Some sort of wizard
        </div>
    </mat-tab>
    <mat-tab label="Advanced"-->
        <div fxLayout='row' fxLayout.lt-md="column" fxLayoutAlign="start start">
            <div fxFlex="33%" class="input-column">
                <mat-card class="example-card">
                    <mat-card-header>
                        <div mat-card-avatar><mat-icon class="size-40">keyboard</mat-icon></div>
                        <mat-card-title>1. Calculate</mat-card-title>
                        <mat-card-subtitle>Enter data and calculate</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <form [formGroup]="studyForm" (ngSubmit)="onSubmit()">
                            <div fxLayout='row' fxLayoutAlign="start start"> 
                                <div fxFlex fxLayout='column' class="form-column">
                                    <h3>Event</h3>
                                    <mat-form-field class="full-width">
                                        <input type="number" min="0" step="1" matInput required formControlName="eventIndivInterv" name="eventIndivInterv" placeholder="Intervention" class="full-width">
                                        <mat-error>
                                            Please enter a non-negative integer
                                        </mat-error>
                                    </mat-form-field>
                                    <mat-form-field class="full-width">
                                        <input type="number" min="0" step="1" matInput required formControlName="eventIndivControl" name="eventIndivControl" placeholder="Control" class="full-width">
                                        <mat-error>
                                            Please enter a non-negative integer
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <div fxFlex class="form-column">
                                    <h3>No event</h3>

                                    <mat-form-field class="full-width">
                                        <input type="number" min="0" step="1" matInput required formControlName="noEventIndivInterv" name="noEventIndivInterv" placeholder="Intervention" class="full-width"> 
                                        <mat-error>
                                            Please enter a non-negative integer
                                        </mat-error>
                                    </mat-form-field>
                                    <mat-form-field class="full-width">
                                        <input type="number" min="0" step="1" matInput required formControlName="noEventIndivControl" name="noEventIndivControl" placeholder="Control" class="full-width">  
                                        <mat-error>
                                            Please enter a non-negative integer
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div fxLayout='row' fxLayoutAlign="end start">
                                <div fxFlex="nogrow" class="button-container">
                                    <button mat-raised-button type="submit" [disabled]="!studyForm.valid" class="btn btn-success" color="accent">Calculate<!--mat-icon>done</mat-icon--></button>
                                </div>
                            </div>
                        </form>
                    </mat-card-content>
                </mat-card>
            </div>
            <div fxFlex="67%" class="results-column"> 
                <mat-tab-group class="results-tab-group">
                    <mat-tab label="Results">
                        <!--h3>Results</h3-->
                        <mat-accordion>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header title="Relative Risk">
                                    <mat-panel-title class="fixed-width-title">
                                        Relative Risk
                                    </mat-panel-title>
                                    <mat-panel-description *ngIf="study?.relativeRisk">
                                        <changer-component [value]="study?.relativeRisk * 100 | number:'1.0-0'"></changer-component>%
                                        <!--{{study?.relativeRisk * 100 | number:'1.0-0'}}%-->
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <!--h3>Relative Risk</h3-->
                                <p><em>Relative Risk</em> (RR) is the ratio of the risk of an event in the intervention group event rate (IER) compared to the control group event rate (CER): RR = IER / CER</p>
                            </mat-expansion-panel>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header title="Risk Difference">
                                    <mat-panel-title class="fixed-width-title">
                                        Risk Difference
                                    </mat-panel-title>
                                    <mat-panel-description *ngIf="study?.riskDiff">
                                        <changer-component [value]="study?.riskDiff * 100| number:'1.0-0'"></changer-component>%
                                        <!--{{study?.riskDiff * 100| number:'1.0-0'}}%-->
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <!--h3>Risk Difference</h3-->
                                <p><em>Risk Difference</em> (RD) is the difference in the event rate between control group event rate (CER) and intervention group event rate (IER): RD=CER-IER</p>
                                <div fxLayout='row' fxLayoutAlign="center top">
                                    <div fxFlex="20%" class="number-ll">Lower 95% CI</div>
                                    <div fxFlex="20%" class="number-mean">Risk Difference</div>
                                    <div fxFlex="20%" class="number-ul">Upper 95% CI</div>
                                </div>
                                <div fxLayout='row' fxLayoutAlign="center bottom">
                                    <div fxFlex="30%" class="left-whisker-top"></div>
                                    <div fxFlex="30%" class="right-whisker-top"></div>
                                </div>
                                <div fxLayout='row' fxLayoutAlign="center top">
                                    <div fxFlex="30%" class="left-whisker-bottom"></div>
                                    <div fxFlex="30%" class="right-whisker-bottom"></div>
                                </div>
                                <div fxLayout='row' fxLayoutAlign="center top">
                                    <div fxFlex="20%" class="number-ll" *ngIf="study?.riskDiffLL95CI">{{study?.riskDiffLL95CI * 100| number:'1.0-0'}}%</div>
                                    <div fxFlex="20%" class="number-mean" *ngIf="study?.riskDiff">{{study?.riskDiff * 100 | number:'1.0-0'}}%</div>
                                    <div fxFlex="20%" class="number-ul" *ngIf="study?.riskDiffUL95CI">{{study?.riskDiffUL95CI * 100 | number:'1.0-0'}}%</div>
                                </div>
                            </mat-expansion-panel>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header title="Odds Ratio">
                                    <mat-panel-title class="fixed-width-title">
                                        Odds Ratio
                                    </mat-panel-title>
                                    <mat-panel-description>
                                        <changer-component [value]="study?.oddsRatio | number:'1.2-2'"></changer-component>
                                        <!--{{study?.oddsRatio | number:'1.2-2'}}-->
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <!--h3>Odds Ratio</h3-->
                                <p><em>Odds Ratio</em> (OR) odds of an event happening in the intervention group (IO) divided by the odds in the control group (CO): OR = IO/CO</p>
                                <div fxLayout='row' fxLayoutAlign="center top">
                                    <div fxFlex="20%" class="number-ll">Lower 95% CI</div>
                                    <div fxFlex="20%" class="number-mean">Odds Ratio</div>
                                    <div fxFlex="20%" class="number-ul">Upper 95% CI</div>
                                </div>
                                <div fxLayout='row' fxLayoutAlign="center bottom">
                                    <div fxFlex="30%" class="left-whisker-top"></div>
                                    <div fxFlex="30%" class="right-whisker-top"></div>
                                </div>
                                <div fxLayout='row' fxLayoutAlign="center top">
                                    <div fxFlex="30%" class="left-whisker-bottom"></div>
                                    <div fxFlex="30%" class="right-whisker-bottom"></div>
                                </div>
                                <div fxLayout='row' fxLayoutAlign="center top">
                                    <div fxFlex="20%" class="number-ll">{{study?.oddsRatioLL95CI | number:'1.2-2'}}</div>
                                    <div fxFlex="20%" class="number-mean">{{study?.oddsRatio | number:'1.2-2'}}</div>
                                    <div fxFlex="20%" class="number-ul">{{study?.oddsRatioUL95CI | number:'1.2-2'}}</div>
                                </div>
                            </mat-expansion-panel>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header title="Relative Risk Reduction">
                                    <mat-panel-title class="fixed-width-title">
                                        Relative Risk Reduction
                                    </mat-panel-title>
                                    <mat-panel-description *ngIf="study?.relativeRiskReduction">
                                        <changer-component [value]="study?.relativeRiskReduction * 100 | number:'1.0-0'"></changer-component>%
                                        <!--{{study?.relativeRiskReduction * 100 | number:'1.0-0'}}%-->
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <!--h3>Relative Risk Reduction</h3-->
                                <p><em>Relative Risk Reduction (RRR)</em> is the percentage reduction in events in the intervention group event rate (IER) compared to the control group event rate (CER): RRR=(CER-IER)/CER * 100</p>
                            </mat-expansion-panel>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header title="Number Needed to Treat">
                                    <mat-panel-title class="fixed-width-title">
                                        Number Needed to Treat
                                    </mat-panel-title>
                                    <mat-panel-description>
                                        <changer-component [value]="study?.numberNtt | number:'1.1-1'"></changer-component>
                                        <!--{{study?.numberNtt | number:'1.1-1'}}-->
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <!--h3>Number Needed to Treat</h3-->
                                <p><em>Number Needed to Treat</em> (NNT) is the number of patients, on average, who need to be treated to prevent one bad outcome. It is the inverse of the RD: NNT=1/RD</p>
                                <div fxLayout='row' fxLayoutAlign="center top">
                                    <div fxFlex="20%" class="number-ll">Lower 95% CI</div>
                                    <div fxFlex="20%" class="number-mean">Number Needed to Treat</div>
                                    <div fxFlex="20%" class="number-ul">Upper 95% CI</div>
                                </div>
                                <div fxLayout='row' fxLayoutAlign="center bottom">
                                    <div fxFlex="30%" class="left-whisker-top"></div>
                                    <div fxFlex="30%" class="right-whisker-top"></div>
                                </div>
                                <div fxLayout='row' fxLayoutAlign="center top">
                                    <div fxFlex="30%" class="left-whisker-bottom"></div>
                                    <div fxFlex="30%" class="right-whisker-bottom"></div>
                                </div>
                                <div fxLayout='row' fxLayoutAlign="center top">
                                    <div fxFlex="20%" class="number-ll">{{study?.numberNttLL95CI | number:'1.1-1'}}</div>
                                    <div fxFlex="20%" class="number-mean">{{study?.numberNtt | number:'1.1-1'}}</div>
                                    <div fxFlex="20%" class="number-ul">{{study?.numberNttUL95CI | number:'1.1-1'}}</div>
                                </div>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </mat-tab>
                    <mat-tab label="Cates">
                        <div fxLayout="row" fxLayoutAlign="center start">
                            <div fxFlex="100%" fxFlex.md="75%" fxFlex.sm="75%" fxFlex.gt-md="50%" >
                                <cates-component *ngIf="study?.updated" [noOfGood]="noOfGood" [noOfOK]="noOfOK" [noOfLetDown]="noOfLetDown" [noOfBad]="noOfBad" [textGood]="textGood" [textOK]="textOK" [textLetDown]="textLetDown" [textBad]="textBad" [noOfRowsAndColumns]="noOfRowsAndColumns" type="treatment"></cates-component>
                            </div>
                        </div>
                    </mat-tab>
                </mat-tab-group>
            </div>
        </div>  
    <!--/mat-tab>
</mat-tab-group-->